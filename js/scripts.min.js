"use strict";$=jQuery.noConflict(!0),$(function(){$(window).scroll(function(){var t=document.getElementById("back-to-top");(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>screen.height/2?(t.classList.add("slide-up"),t.classList.remove("slide-down")):(t.classList.remove("slide-up"),t.classList.add("slide-down"))})}),$(function(){}),$(function(){var t=$('form[id^="submit-"');t&&t.length&&(window.formWasEdited=!1,window.isSubmittingForm=!1,t.find("input").blur(function(){window.formWasEdited=!0}),t.submit(function(t){window.isSubmittingForm=!0}),$(window).bind("beforeunload",function(){if(window.formWasEdited&&!window.isSubmittingForm)return"Are you sure you want to leave?"}))}),window.bwHelpers={randomFromArray:function(t,e){var o=[];e=e||1;for(var r=0;r<e;r++)t.sort(function(){return Math.round(Math.random())}),o.push(t.pop());return o}},$(function(){$(document).ready(function(t){function e(){document.querySelectorAll("pre code").forEach(function(t){hljs.highlightBlock(t)});var t=document.querySelectorAll("pre code.hljs");Array.prototype.forEach.call(t,function(t){var e=t.result.language;t.insertAdjacentHTML("afterbegin","<label>"+e+"</label>")})}"undefined"!=typeof hljs?e():setTimeout(e,2e3)})}),function(){var t=window.addEventListener||function(t,e){window.attachEvent("on"+t,e)},i=window.removeEventListener||function(t,e,o){window.detachEvent("on"+t,e)};function s(t){var e=0;if(t.offsetParent){for(;e+=t.offsetTop,t=t.offsetParent;);return e}}var l={cache:[],mobileScreenSize:500,addObservers:function(){t("scroll",l.throttledLoad),t("resize",l.throttledLoad)},removeObservers:function(){i("scroll",l.throttledLoad,!1),i("resize",l.throttledLoad,!1)},throttleTimer:(new Date).getTime(),throttledLoad:function(){var t=(new Date).getTime();200<=t-l.throttleTimer&&(l.throttleTimer=t,l.loadVisibleImages())},loadVisibleImages:function(){for(var t=window.pageYOffset||document.documentElement.scrollTop,e=t-200,o=t+(window.innerHeight||document.documentElement.clientHeight)+200,r=0;r<l.cache.length;){var i=l.cache[r],n=s(i);if(e-(i.height||0)<=n&&n<=o){var a=i.getAttribute("data-src-mobile");i.className=i.className.replace(/(^|\s+)lazy-load(\s+|$)/,"$1lazy-loaded$2"),a&&screen.width<=l.mobileScreenSize?i.src=a:i.src=i.getAttribute("data-src"),i.removeAttribute("data-src"),i.removeAttribute("data-src-mobile"),l.cache.splice(r,1)}else r++}0===l.cache.length&&l.removeObservers()},init:function(){document.querySelectorAll||(document.querySelectorAll=function(t){var e=document,o=e.documentElement.firstChild,r=e.createElement("STYLE");return o.appendChild(r),e.__qsaels=[],r.styleSheet.cssText=t+"{x:expression(document.__qsaels.push(this))}",window.scrollBy(0,0),e.__qsaels}),t("load",function t(){for(var e=document.querySelectorAll("img[data-src]"),o=0;o<e.length;o++){var r=e[o];l.cache.push(r)}l.addObservers(),l.loadVisibleImages(),i("load",t,!1)})}};l.init()}();var levenshteinDistance=function(t,e){if(t&&e){var o=[],r=t.length,i=e.length;if(0===r)return i;if(0===i)return r;for(var n=r;0<=n;n--)o[n]=[];for(n=r;0<=n;n--)o[n][0]=n;for(var a=i;0<=a;a--)o[0][a]=a;for(n=1;n<=r;n++){var s=t.charAt(n-1);for(a=1;a<=i;a++){if(n===a&&4<o[n][a])return r;var l=e.charAt(a-1),c=s===l?0:1,u=o[n-1][a]+1,m=o[n][a-1]+1,d=o[n-1][a-1]+c;m<u&&(u=m),d<u&&(u=d),o[n][a]=u,1<n&&1<a&&s===e.charAt(a-2)&&t.charAt(n-2)===l&&(o[n][a]=Math.min(o[n][a],o[n-2][a-2]+c))}}return o[r][i]}};$(function(){$("body"),$("#menu-toggle");$("#menu-icon").on("click",function(t){var e=e||$("#menu-icon");!0===$("#menu-toggle").is(":checked")?($("body").removeClass("menu-open"),e.html("b").removeClass("mr-3 mt-0")):($("body").addClass("menu-open"),e.html("Ã—").addClass("mr-3 mt-0"))})}),$(function(){var e=$("#menu-toggle");$(document).keyup(function(t){"Escape"===t.key&&e.is(":checked")&&e.click()})}),$(function(){function e(e){var t={};(t=function(t,o){return jQuery.each(t.serializeArray()||{},function(t,e){o["elp_"+e.name]=e.value}),o}(e,t)).elp_submit="submitted",t.action="email_posts_subscribers";var o=elp_data.elp_ajax_url;return jQuery(e).find("#elp-loading-image").show(),$.ajax({type:"POST",url:o,data:t,dataType:"json",success:function(t){!t||void 0===t.status||"SUCCESS"!==t.status&&"ERRORBOT"!==t.status?jQuery(e).find("#elp-loading-image").hide():(jQuery(e).slideUp("slow"),jQuery(e).hide()),jQuery(window).trigger("elp_submit.send_response",[jQuery(e),t]),function(t,e){var o=t.status,r="success";"ERROR"===o&&(r="error"),"ERRORBOT"===o&&(r="boterror");var i=t.message_text,n=$(e).next(".elp_form_message");n.attr("class","elp_form_message "+r),n.html(i);var a={detail:{elp_response:r,msg:i},bubbles:!0,cancelable:!0};jQuery(e).trigger("elp_response",[a])}(t,e)},error:function(t){jQuery(e).find("#elp-loading-image").hide(),console.log(t,"error")}}),!1}window.jQuery=window.jQuery||$,$(document).ready(function(){var t=$(".elp_form");t.find("span.email").html("Your email, please"),t.find("input").each(function(){var t=$(this);t.addClass("form-control"),"submit"===t.attr("name")&&t.css({"max-width":"10rem"}),"email"===t.attr("name")&&t.addClass("mt-2 mb-2"),"name"===t.attr("name")&&t.removeAttr("required")}),$(document).on("submit",".elp_form",function(t){t.preventDefault(),e($(this))})})}),$(function(){window.location.hash&&0<$(".twitter-tweet").length&&$(".twitter-tweet-rendered").waitUntilExists(function(){$("html, body").animate({scrollTop:$(window.location.hash).offset().top-20})})}),$(function(){function e(t){return t[Math.floor(Math.random()*t.length)]}var o=["/wp-content/themes/botwiki/images/robots/EFFCy_oX4AESj3i.jpeg","/wp-content/themes/botwiki/images/robots/EFKMZbiX4AcQCbN.png","/wp-content/themes/botwiki/images/robots/EFQM7GoXoAAQN6r.png","/wp-content/themes/botwiki/images/robots/EGUA_S0WsAIE03o.png","/wp-content/themes/botwiki/images/robots/EHqDhb3X0AIgaSX.png","/wp-content/themes/botwiki/images/robots/EI54X3oXUAA-i8k.png","/wp-content/themes/botwiki/images/robots/EIFTnxIXkAAKlnM.png","/wp-content/themes/botwiki/images/robots/EIIvWWBWsAUGDtX.png","/wp-content/themes/botwiki/images/robots/EJYIvKRXUAATZt7.png","/wp-content/themes/botwiki/images/robots/EKrm5zOWsAAAwIQ.png","/wp-content/themes/botwiki/images/robots/EMzpr0WX0AUPKAD.png","/wp-content/themes/botwiki/images/robots/ENV--axWoAE2R95.png","/wp-content/themes/botwiki/images/robots/EOzcyTKWAAEIr8u.png","/wp-content/themes/botwiki/images/robots/EP9_Xa7X0AE9-nz.png","/wp-content/themes/botwiki/images/robots/EQMlNajWkAA83Sw.png","/wp-content/themes/botwiki/images/robots/ERA8F2LUwAAdnOI.png","/wp-content/themes/botwiki/images/robots/ERbVQjfXsAAwDRB.png","/wp-content/themes/botwiki/images/robots/ERYwdhZXsAAcYuL.png","/wp-content/themes/botwiki/images/robots/EUlexoMUwAYuMj_.jpeg","/wp-content/themes/botwiki/images/robots/EUQBeAeXgAYxhP5.png","/wp-content/themes/botwiki/images/robots/EV17armWoAM3cMw.png","/wp-content/themes/botwiki/images/robots/EVIPh3sWAAMgwXN.png","/wp-content/themes/botwiki/images/robots/EWspV_dUcAAqkTF.png","/wp-content/themes/botwiki/images/robots/EYTv8FDX0AIBNFo.jpeg","/wp-content/themes/botwiki/images/robots/EZq_8QTX0AYo6wn.jpeg"],t=document.getElementById("robots");document.querySelector(".robot-1");if(t){t.innerHTML='<img class="robot robot-1" src="'+o[0]+'">';for(var r=1,i=1,n=Math.floor(t.offsetHeight/100),a=Math.floor(t.offsetWidth/100)*n,s="",l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style"),u=0;u<=a;u++)s+=".robot:nth-child("+u+") { animation-delay: "+60/a/200*u+"s; }";for(l.appendChild(c),c.type="text/css",c.appendChild(document.createTextNode(s));i<a;)document.getElementById("robots").innerHTML=document.getElementById("robots").innerHTML+'<img class="robot robot-'+i+'" src="'+o[r]+'">',r<o.length-1?r++:r=0,i++;setTimeout(function(){[300,750,1250].forEach(function(t){setInterval(function(){e(document.querySelectorAll(".robot")).src=e(o)},t)})},1e3)}}),$(function(){$("#search-filters").find('input[type="checkbox"]'),$("#search-filters-tutorials"),$("#search-filters-resources");$("#search-input").click(function(t){$("#search-filters").removeClass("slide-up-hidden").addClass("slide-up")})}),$(function(){var t=$(".js-select2");t&&t.length&&t.each(function(t){var e=$(this),o=e.data("ajax");if(e.select2)if(o){window.processSearchResults=function(t){var r=[];return $.each(t,function(t,e){var o=e.name;r[t]={id:o,text:o}}),r};e.select2({tags:!0,placeholder:$(this).attr("placeholder"),minimumInputLength:parseInt($(this).data("minimum-input-length"))||3,ajax:{url:o,dataType:"json",data:function(t){return{search:t.term}},processResults:function(t,o,e){return{results:window.processSearchResults(t).sort(function(t,e){return window.levenshteinDistance(t.text,o.term)-window.levenshteinDistance(e.text,o.term)})}}}})}else{var r={tags:$(this).data("tags"),multiple:$(this).data("multiple"),placeholder:$(this).attr("placeholder"),minimumInputLength:parseInt($(this).data("minimum-input-length"))||3};e.attr("required")||(r.allowClear=!0),e.select2(r),e.data("clear")&&e.val(null).trigger("change")}})}),$(function(){var o=$(".navbar");$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(t){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var e=$(this.hash);window.history&&window.history.pushState&&e.attr("id")&&("#header"===e.selector?history.pushState(null,null,window.location.pathname):history.pushState(null,null,"#"+e.attr("id"))),(e=e.length?e:$("[name="+this.hash.slice(1)+"]")).length&&(t.preventDefault(),$("html, body").animate({scrollTop:e.offset().top-o.height()-parseInt(e.css("margin-top").replace("px",""))},500,function(){var t=$(e);if(t.focus(),t.is(":focus"))return!1;t.attr("tabindex","-1"),t.focus()}))}})}),$(function(){var t=$("body"),e=$("#resource-form-submit");function o(){var t=$('[name="resource-networks[]'),o=$("#resource-selected-tweets-field");t.on("change",function(){var e=!1;t.each(function(t){-1<$(this).children("option").filter(":selected").text().indexOf("Twitter")&&(e=!0)}),e?o.removeClass("d-none"):o.addClass("d-none")})}if(t.hasClass("page-template-template-submit-resource")){var r=$("#disassociate-author");r.click(function(t){return t.preventDefault(),$("#logged-in-author").remove(),$("#disassociate-author-input").val("true"),$("#add-author-fields").click(),!1}),$("#test").click(function(t){return t.preventDefault(),r.click(),$("#add-author-fields").before('<div class="author-fields form-row"><div class="form-group col-md-6"><input type="text" class="form-control" id="author-2-name" name="author-names[]" placeholder="Author"></div><div class="form-group col-md-6"><input type="url" class="form-control" id="author-2-url" name="author-urls[]" placeholder="https://twitter.com/author"></div></div>'),$("#resource-name").val("One cool resource"),$("#author-1-name").val("Stefan"),$("#author-1-url").val("https://twitter.com/fourtonfish"),$("#author-2-name").val("John Doe"),$("#resource-url").val("https://coolresource.github.com/"),$("#resource-selected-tweets").val("https://twitter.com/mycoolresource/status/123456789\nhttps://twitter.com/mycoolresource/status/987654321"),$("#resource-tagline").val("This is a cool resource."),$("#resource-networks").val(["twitter-bots"]),$("#resource-networks").trigger("change"),$("#resource-tags").val(["generative","images","nodejs"]),$("#resource-tags").trigger("change"),$("#resource-is-opensource").click(),$("#resource-source-url").val("https://github.com/resourcewiki/resourcewiki.org"),$("#resource-source-language").val("nodejs"),$("#resource-source-language").trigger("change"),$("html, body").animate({scrollTop:e.offset().top-500},450),!1}),$("#submit-resource-form").submit(function(){e.attr("disabled","disabled").html("Please wait..."),setTimeout(function(){e.html("Still working...")},4700)});var i=$('[name="resource-type'),n=$(".resource-type-name");i.on("change",function(t){var e=$(this).children("option").filter(":selected").text().toLowerCase();-1===["tutorial","tool","starter project","library/framework"].indexOf(e)&&(e="resource"),n.html(e),$("#resource-name").attr("placeholder","My "+e+"..."),$("#resource-tagline").attr("placeholder","A useful "+e+".")}),$("#add-author-fields").click(function(t){t.preventDefault();var e=$(".author-fields").length+1;return $(this).before('<div class="author-fields form-row"><div class="form-group col-md-6"><input type="text" class="form-control" id="author-'+e+'-name" name="author-names[]" placeholder="Author"></div><div class="form-group col-md-6"><input type="url" class="form-control" id="author-'+e+'-url" name="author-urls[]" placeholder="https://twitter.com/author"></div></div>'),!1});var a=$("#resource-network").html();$("#add-resource-info-fields").click(function(t){t.preventDefault();var e=$(".resource-info-fields").length+1;return $(this).before('<div class="resource-info-fields form-row"><div class="form-group col-md-6"><select class="form-control js-select2" id="resource-info-'+e+'-network" name="resource-networks[]" placeholder="Twitter, Tumblr, Slack,...">'+a.replace("-1-",e)+'</select></div><div class="form-group col-md-6"><input type="url" class="form-control" id="resource-'+e+'-url" name="resource-url" placeholder="https://twitter.com/onecoolresource'+e+'"></div></div>'),$("#resource-info-"+e+"-network").select2({tags:!0,placeholder:$(this).attr("placeholder")}),o(),!1});var s=$("#resource-source-info");$("#resource-is-opensource").click(function(t){$(this).is(":checked")?s.removeClass("d-none"):s.addClass("d-none")});var l=$("#apply-for-botmaker-badge"),c=$("#botmaker-badge-application");l.click(function(t){$(this).is(":checked")?c.removeClass("d-none"):c.addClass("d-none")}),o()}}),$(function(){var t=$("body"),o=$("#bot-form-submit");function r(){var t=$('[name="bot-networks[]'),e=$("#bot-selected-tweets-field"),r=$("#bot-selected-tweets-label");t.on("change",function(){var o=!1;t.each(function(t){var e=$(this).children("option").filter(":selected").text();-1<e.indexOf("Twitter")&&(r.html("tweets"),o=!0),-1<e.indexOf("Mastodon")&&(r.html("toots"),o=!0)}),o?e.removeClass("d-none"):e.addClass("d-none")})}if(t.hasClass("page-template-template-submit-your-bot")){var i=$("#disassociate-author");i.click(function(t){return t.preventDefault(),$("#logged-in-author").remove(),$("#disassociate-author-input").val("true"),$("#add-author-fields").click(),!1}),$("#test").click(function(t){t.preventDefault(),i.click(),$("#add-author-fields").before('<div class="author-fields form-row"><div class="form-group col-md-6"><input type="text" class="form-control" id="author-2-name" name="author-names[]" placeholder="Author"></div><div class="form-group col-md-6"><input type="url" class="form-control" id="author-2-url" name="author-urls[]" placeholder="https://twitter.com/author"></div></div>'),$("#bot-name").val("@coolbot"),$("#author-1-name").val("Stefan"),$("#author-1-url").val("https://twitter.com/fourtonfish"),$("#author-2-name").val("John Doe"),window.bot_description_editor.setContent("generates random images.");var e=$("#bot-info-1-network").html();return $("#add-bot-info-fields").before('<div class="bot-info-fields form-row"><div class="form-group col-md-6"><input type="url" class="form-control" id="bot-info-2-url" name="bot-urls[]" placeholder="https://twitter.com/onecoolbot2"></div><div class="form-group col-md-6"><select class="form-control js-select2" id="bot-info-2-network" name="bot-networks[]" placeholder="Twitter, Tumblr, Slack,...">'+e.replace("-1-","-2-")+"</select></div></div>"),$("#bot-info-2-network").select2({tags:!0,placeholder:$(this).attr("placeholder")}),$("#bot-info-1-network").val("twitter-bots").trigger("change"),$("#bot-info-2-network").val("tumblr-bots").trigger("change"),$("#bot-info-1-url").val("https://twitter.com/coolbot"),$("#bot-info-2-url").val("https://coolbot.tumblr.com/"),$("#bot-selected-tweets").val("https://twitter.com/mycoolbot/status/123456789\nhttps://twitter.com/mycoolbot/status/987654321"),$("#bot-tagline").val("This is a cool bot."),$("#bot-tags").append('<option value="generative">generative</option>\n         <option value="images">images</option>').val(["generative","images"]).trigger("change"),$("#bot-is-opensource").click(),$("#bot-source-url").val("https://github.com/botwiki/botwiki.org"),$("#bot-source-language").val("nodejs").trigger("change"),$("html, body").animate({scrollTop:o.offset().top-500},450),!1}),$(".js-select2").each(function(t){var e=$(this),o=e.data("ajax");o?(window.processSearchResults=function(t){var r=[];return $.each(t,function(t,e){var o=e.name;r[t]={id:o,text:o}}),r},e.select2({tags:!0,placeholder:$(this).attr("placeholder"),minimumInputLength:parseInt($(this).data("minimum-input-length"))||3,ajax:{url:o,dataType:"json",data:function(t){return{search:t.term}},processResults:function(t,o,e){return{results:window.processSearchResults(t).sort(function(t,e){return window.levenshteinDistance(t.text,o.term)-window.levenshteinDistance(e.text,o.term)})}}}})):e.select2({tags:!0,placeholder:$(this).attr("placeholder"),minimumInputLength:parseInt($(this).data("minimum-input-length"))||3})}),$("#submit-bot-form").submit(function(){o.attr("disabled","disabled").html("Please wait..."),setTimeout(function(){o.html("Still working...")},4700)}),$("#add-author-fields").click(function(t){t.preventDefault();var e=$(".author-fields").length+1;return $(this).before('<div class="author-fields form-row"><div class="form-group col-md-6"><input type="text" class="form-control" id="author-'+e+'-name" name="author-names[]" placeholder="Author"></div><div class="form-group col-md-6"><input type="url" class="form-control" id="author-'+e+'-url" name="author-urls[]" placeholder="https://twitter.com/author"></div></div>'),!1});var n=$("#bot-info-1-network").html();$("#add-bot-info-fields").click(function(t){t.preventDefault();var e=$(".bot-info-fields").length+1;return $(this).before('<div class="bot-info-fields form-row">\n          <div class="form-group col-md-6">\n            <input type="url" class="form-control" id="bot-'+e+'-url" name="bot-urls[]" placeholder="https://twitter.com/onecoolbot'+e+'">\n          </div>\n          <div class="form-group col-md-6">\n            <select class="form-control js-select2" id="bot-info-'+e+'-network" name="bot-networks[]" placeholder="Twitter, Tumblr, Slack,...">'+n.replace("-1-",e)+"\n            </select>\n          </div>\n        </div>"),$("#bot-info-"+e+"-network").select2({tags:!0,placeholder:$(this).attr("placeholder")}),r(),!1});var e=$("#bot-source-info");$("#bot-is-opensource").click(function(t){$(this).is(":checked")?e.removeClass("d-none"):e.addClass("d-none")});var a=$("#bot-submitted-output");$(document).on("change input propertychange",'[name="bot-urls[]"]',function(t){var e=$(this),o=e.parents(".bot-info-fields").find('[name="bot-networks[]"]'),r=e.attr("id"),i=e.val().trim();-1!==i.indexOf("twitter.com")?o.val("twitter-bots").trigger("change"):-1!==i.indexOf("tumblr.com")?o.val("tumblr-bots").trigger("change"):-1!==i.indexOf("mastodon.social")?o.val("mastodon").trigger("change"):-1!==i.indexOf("botsin.space")?o.val("mastodon").trigger("change"):-1!==i.indexOf("reddit.com")?o.val("reddit-bots").trigger("change"):-1!==i.indexOf("facebook.com")?o.val("facebook-bots").trigger("change"):-1!==i.indexOf("instagram.com")?o.val("instagram-bots").trigger("change"):-1!==i.indexOf("youtube.com")&&o.val("youtube-bots").trigger("change"),-1!==r.indexOf("bot-")&&-1!==r.indexOf("-url")&&(i&&5<i.length&&-1!==i.indexOf("http")?$.ajax({url:"/wp-json/wp/v2/bot?bot_url="+i,success:function(t){if(void 0!==t&&t&&0<t.length&&t.length<3){var e="";try{t=JSON.parse(t)}catch(t){}t.forEach(function(t){e+='<div class="media">\n                    <a href="'+t.link+'" target="_blank">\n                      <img width="120px" src="'+t.featured_image_url+'" class="mr-3" alt="Screenshot of '+t.title.rendered+'" title="Screenshot of '+t.title.rendered+'">\n                    </a>\n                    <div class="media-body">\n                      <h5 class="mt-0"><a href="'+t.link+'" target="_blank">'+t.title.rendered+"</a></h5>\n                      <p>"+t.excerpt.rendered+"</p>\n                    </div>\n                  </div>"}),a.html(e).parent().removeClass("d-none")}}}):a.html("").parent().addClass("d-none"))});var s=$("#apply-for-botmaker-badge"),l=$("#botmaker-badge-application");s.click(function(t){$(this).is(":checked")?l.removeClass("d-none"):l.addClass("d-none")}),r()}"undefined"!=typeof MediumEditor&&(window.bot_description_editor=new MediumEditor("#bot-description",{placeholder:{text:"This bot makes...",hideOnClick:!0},toolbar:{buttons:["anchor","pre","quote"]}}))}),function(y){function t(t){t.tilt({maxTilt:200/t.outerWidth()})}$(".card, blockquote").each(function(){t($(this))}),$(".hover-box > a").tilt({maxTilt:10}),$(".botwiki-logo").tilt({maxTilt:2}),$("#menu-wrapper .menu-container").tilt({maxTilt:.8}),$(".thumbnail-wrapper img").tilt({maxTilt:.5}),$(document).on("tembeds_tweets_processed",function(){$(".twitter-tweet").each(function(){t($(this))})});for(var n=0,e="webkit moz ms o".split(" "),o=y.requestAnimationFrame,r=y.cancelAnimationFrame,i=void 0,a=0;a<e.length&&(!o||!r);a++)i=e[a],o=o||y[i+"RequestAnimationFrame"],r=r||y[i+"CancelAnimationFrame"]||y[i+"CancelRequestAnimationFrame"];function s(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function l(t,e){t&&(this.el=t,this.options=s({},this.options),s(this.options,e),this._init(),this._initEvents())}o&&r||(o=function(t,e){var o=(new Date).getTime(),r=Math.max(0,16-(o-n)),i=y.setTimeout(function(){t(o+r)},r);return n=o+r,i},r=function(t){y.clearTimeout(t)}),l.prototype.options={extraImgs:2,extraImgsScaleGrade:0,opacity:.7,customImgsOpacity:!1,bgfixed:!0,resetOnLeave:!0,movement:{perspective:1e3,translateX:-10,translateY:-10,translateZ:20,rotateX:2,rotateY:2,rotateZ:0},element:{mouseMoveWatcher:null,viewWatcher:null,orientationWatcher:y}},l.prototype._init=function(){this.tiltWrapper=document.createElement("div"),this.tiltWrapper.className="tilt",this.tiltImgBack=document.createElement("div"),this.tiltImgBack.className="tilt__back",this.tiltImgBack.tiltFxType="back",this.tiltImgBack.style.backgroundImage="url( "+this.el.querySelector("img").src+" )",this.tiltWrapper.appendChild(this.tiltImgBack),this.options.extraImgs<1?this.imgCount=0:64<this.options.extraImgs?this.imgCount=64:this.imgCount=this.options.extraImgs,this.options.movement.perspective||(this.options.movement.perspective=0),this.imgElems=[];var t=this.imgCount;this.options.customImgsOpacity;this.options.bgfixed||(this.imgElems.push(this.tiltImgBack),++this.imgCount);for(var e=0;e<t;++e){var o=document.createElement("div");o.className="tilt__front",o.style.backgroundImage="url( "+this.el.querySelector("img").src+" )",this.tiltWrapper.appendChild(o),this.imgElems.push(o)}this._initSetImagesOpacity(),this.el.parentNode.insertBefore(this.tiltWrapper,this.el),this.el.parentNode.removeChild(this.el),this._setViewWatcher(this),this._setMouseMoveWatcher(this),this._calcView(this)},l.prototype._initSetImagesOpacity=function(){if(this.options.customImgsOpacity)for(var t=0,e=this.imgElems.length;t<e;++t){var o=this.options.customImgsOpacity[t]?this.options.customImgsOpacity[t]:this.options.opacity;this.imgElems[t].style.opacity=o}else for(var r=0,i=this.imgElems.length;r<i;++r)"back"!==this.imgElems[r].tiltFxType&&(this.imgElems[r].style.opacity=this.options.opacity)},l.prototype._calcView=function(t){t.view={width:t.viewWatcher.offsetWidth,height:t.viewWatcher.offsetHeight}},l.prototype._setMouseMoveWatcher=function(t){var e=!1;if(t.options.element&&t.options.element.mouseMoveWatcher){var o=document.querySelector(t.options.element.mouseMoveWatcher);t.mouseMoveWatcher=o,e=!0}e||(t.mouseMoveWatcher=t.viewWatcher)},l.prototype._setViewWatcher=function(t){var e=!1;if(t.options.element&&t.options.element.viewWatcher){var o=document.querySelector(t.options.element.viewWatcher);o&&(t.viewWatcher=o,e=!0)}e||(t.viewWatcher=t.tiltWrapper)},l.prototype._initEvents=function(){var w=this,b=w.options.movement;w.mouseMoveWatcher.parentNode.parentNode.parentNode.addEventListener("mousemove",function(v){o(function(){for(var t=function(t){var e=0,o=0;if(!t)t=y.event;return t.pageX||t.pageY?(e=t.pageX,o=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,o=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:e,y:o}}(v),e=document.body.scrollLeft+document.documentElement.scrollLeft,o=document.body.scrollTop+document.documentElement.scrollTop,r=w.tiltWrapper.getBoundingClientRect(),i=t.x-r.left-e,n=t.y-r.top-o,a=0,s=w.imgElems.length;a<s;++a){var l=w.imgElems[a],c=b.rotateX?(a+1)*b.rotateX/w.imgCount*2/w.view.height*n-(a+1)*b.rotateX/w.imgCount:0,u=b.rotateY?(a+1)*b.rotateY/w.imgCount*2/w.view.width*i-(a+1)*b.rotateY/w.imgCount:0,m=b.rotateZ?(a+1)*b.rotateZ/w.imgCount*2/w.view.width*i-(a+1)*b.rotateZ/w.imgCount:0,d=b.translateX?(a+1)*b.translateX/w.imgCount*2/w.view.width*i-(a+1)*b.translateX/w.imgCount:0,h=b.translateY?(a+1)*b.translateY/w.imgCount*2/w.view.height*n-(a+1)*b.translateY/w.imgCount:0,p=b.translateZ?(a+1)*b.translateZ/w.imgCount*2/w.view.height*n-(a+1)*b.translateZ/w.imgCount:0,f=1+w.options.extraImgsScaleGrade*(s-(a+1)),g=1!=f?" scale( "+f+", "+f+" )":"";l.style.WebkitTransform="perspective( "+b.perspective+"px ) translate3d( "+d+"px,"+h+"px,"+p+"px ) rotate3d( 1,0,0,"+c+"deg ) rotate3d( 0,1,0,"+u+"deg ) rotate3d( 0,0,1,"+m+"deg )"+g,l.style.transform="perspective( "+b.perspective+"px ) translate3d( "+d+"px,"+h+"px,"+p+"px ) rotate3d( 1,0,0,"+c+"deg ) rotate3d( 0,1,0,"+u+"deg ) rotate3d( 0,0,1,"+m+"deg )"+g}})}),w.options.resetOnLeave&&w.mouseMoveWatcher.parentNode.parentNode.parentNode.addEventListener("mouseleave",function(){setTimeout(function(){for(var t=0,e=w.imgElems.length;t<e;++t){var o=w.imgElems[t];o.style.WebkitTransform="perspective( "+b.perspective+"px ) translate3d( 0,0,0 ) rotate3d( 1,1,1,0deg )",o.style.transform="perspective( "+b.perspective+"px ) translate3d( 0,0,0 ) rotate3d( 1,1,1,0deg )"}},60)}),y.addEventListener("resize",function(e,o){var r=!0;return function(t){r&&(r=!1,setTimeout(function(){r=!0},o),e(t))}}(function(){w._calcView(w)},50)),y.addEventListener("deviceorientation",function(v){o(function(){v.alpha;for(var t=v.beta,e=v.gamma,o=t/180*Math.PI,r=e/180*Math.PI,i=(Math.atan2(Math.cos(o)*Math.sin(r),Math.sin(o)),Math.PI,0),n=w.imgElems.length;i<n;++i){var a=w.view.width/2*(1-r),s=w.view.height/2*(1-o),l=w.imgElems[i],c=b.rotateX?(i+1)*b.rotateX/w.imgCount*2/w.view.height*s-(i+1)*b.rotateX/w.imgCount:0,u=b.rotateY?(i+1)*b.rotateY/w.imgCount*2/w.view.width*a-(i+1)*b.rotateY/w.imgCount:0,m=b.rotateZ?(i+1)*b.rotateZ/w.imgCount*2/w.view.width*a-(i+1)*b.rotateZ/w.imgCount:0,d=b.translateX?(i+1)*b.translateX/w.imgCount*2/w.view.width*a-(i+1)*b.translateX/w.imgCount:0,h=b.translateY?(i+1)*b.translateY/w.imgCount*2/w.view.height*s-(i+1)*b.translateY/w.imgCount:0,p=b.translateZ?(i+1)*b.translateZ/w.imgCount*2/w.view.height*s-(i+1)*b.translateZ/w.imgCount:0,f=1+w.options.extraImgsScaleGrade*(n-(i+1)),g=1!=f?" scale( "+f+", "+f+" )":"";l.style.WebkitTransform="perspective( "+b.perspective+"px ) translate3d( "+d+"px,"+h+"px,"+p+"px ) rotate3d( 1,0,0,"+c+"deg ) rotate3d( 0,1,0,"+u+"deg ) rotate3d( 0,0,1,"+m+"deg )"+g,l.style.transform="perspective( "+b.perspective+"px ) translate3d( "+d+"px,"+h+"px,"+p+"px ) rotate3d( 1,0,0,"+c+"deg ) rotate3d( 0,1,0,"+u+"deg ) rotate3d( 0,0,1,"+m+"deg )"+g}})},!0)},l.prototype.init=function(){[].slice.call(document.querySelectorAll("picture")).forEach(function(t){try{new l(t,JSON.parse(t.querySelector("img").getAttribute("data-tilt-options").replaceAll("'",'"')))}catch(t){}})},(new l).init(),y.TiltFx=l}(window),$.fn.waitUntilExists=function(t,e,o){var r=$(this.selector),i=r.not(function(){return $(this).data("found")}).each(t).data("found",!0);return o?e&&i.length&&window.clearInterval(window.waitUntilExists_Intervals[this.selector]):(window.waitUntilExists_Intervals=window.waitUntilExists_Intervals||{})[this.selector]=window.setInterval(function(){r.waitUntilExists(t,e,!0)},500),r};
//# sourceMappingURL=scripts.min.js.map
