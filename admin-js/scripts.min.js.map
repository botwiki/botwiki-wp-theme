{"version":3,"sources":["bot-archive.js","hide-duplicate-posts-menu.js","screenshot-tool.js","show-bot-submission-form-link-admin.js"],"names":["$","archive_select_frame","$archive_btn","$archive_btn_remove","$archive_file_wrapper","$archive_date_wrapper","$archive_date","$output_archive_url","$output_archive_link","$output_archive_filename","on","ev","preventDefault","confirm","val","attr","addClass","wp","media","title","button","text","multiple","attachment","state","get","first","toJSON","console","log","removeClass","url","filename","open","selector","callback","length","helpers","this","setTimeout","wait_for_el","$menu_posts","hide","document","$get_screenshot_btn","screenshot_btn_txt","html","$screenshot_img","page_url","trim","$screenshot_hint","url_parts","split","download_name","src","download","ajax","done","data","screenshot","alert"],"mappings":"aAAAA,EAAE,WAGA,IASIC,EATAC,EAAeF,EAAE,uBACjBG,EAAsBH,EAAE,0BACxBI,EAAwBJ,EAAE,gCAC1BK,EAAwBL,EAAE,gCAC1BM,EAAgBN,EAAE,wBAElBO,GADgBP,EAAE,wBACIA,EAAE,wBACxBQ,EAAuBR,EAAE,wBACzBS,EAA2BT,EAAE,4BAIjCG,EAAoBO,GAAG,QAAS,SAASC,GAcvC,OAbAA,EAAGC,kBAI4B,IAFFC,QAAQ,8CAGnCP,EAAcQ,IAAI,IAClBP,EAAoBO,IAAI,IACxBL,EAAyBK,IAAI,IAC7BN,EAAqBO,KAAK,OAAQ,KAClCX,EAAsBY,SAAS,UAC/BX,EAAsBW,SAAS,YAG1B,IAGTd,EAAaQ,GAAG,QAAS,SAASC,GAChCA,EAAGC,iBAE0B,MAAxBX,IAKLA,EAAuBgB,GAAGC,OACxBC,MAAO,4BACPC,QACEC,KAAM,iBAERC,UAAU,KAISZ,GAAI,SAAU,WACjC,IAAIa,EAAatB,EAAqBuB,QAAQC,IAAI,aAAaC,QAAQC,SACvEC,QAAQC,IAAIN,GAEZnB,EAAsB0B,YAAY,UAClCzB,EAAsByB,YAAY,UAElCvB,EAAoBO,IAAIS,EAAWQ,KACnCtB,EAAyBK,IAAIS,EAAWS,UACxCxB,EAAqBO,KAAK,OAAQQ,EAAWQ,OAS/C9B,EAAqBgC,QA/BnBhC,EAAqBgC,WCpC3BjC,EAAE,YAGA,SAAqBkC,EAAUC,GAC7B,GAAInC,EAAEkC,GAAUE,OACdD,QACK,CACL,IAAIE,EAAUC,KAEdC,WAAW,WACTF,EAAQG,YAAYN,EAAUC,IAC7B,MAIPK,CAAY,oBAAqB,WAE/B,IAAIC,EAAczC,EAAE,qBAEhByC,EAAYL,OAAS,GACvBK,EAAYf,QAAQgB,WCpB1B1C,EAAE,WAGAA,EAAE2C,UAAUjC,GAAG,QAAS,kBAAmB,SAASC,GAClD,IAAIiC,EAAsB5C,EAAEsC,MACxBO,EAAqBD,EAAoBE,OACzCC,EAAkB/C,EAAE,mBAEpBgD,EADYhD,EAAE,aACOc,MAAMmC,OAC3BC,EAAmBlD,EAAE,oBAEzB,GAAIgD,EAAS,CACX,IAAIG,EAAYH,EAASI,MAAM,KAC3BC,EAAgBF,EAAUA,EAAUf,OAAS,GAEjDQ,EAAoBE,KAAK,cAAc/B,KAAK,YAAY,GACxDgC,EAAgBhC,MACduC,IAAO,GACPC,SAAY,KAEdL,EAAiBlC,SAAS,UAE1BhB,EAAEwD,MACAzB,IAAAA,0CAA+CiB,EAA/C,2BACCS,KAAK,SAAUC,GAEhBR,EAAiBpB,YAAY,UAC7Bc,EAAoBE,KAAKD,GAAoB9B,KAAK,YAAY,GAC9DgC,EAAgBhC,MACduC,IAAA,0BAAiCI,EAAKC,WAAWD,KACjDH,SAAYF,WAKhBO,MAAM,2BCnCZ5D,EAAE,WAEAA,EAAE,+CAA+Ce,KAAK,OAAQ","file":"scripts.min.js","sourcesContent":["$(function() {\n  'use strict';\n\n  var $archive_btn = $('#output-archive-btn'),\n      $archive_btn_remove = $('#output-archive-remove'),\n      $archive_file_wrapper = $('#output-archive-file-wrapper'),\n      $archive_date_wrapper = $('#output-archive-date-wrapper'),\n      $archive_date = $('#output-archive-date'),\n      $archive_file = $('#output-archive-file'),\n      $output_archive_url = $('#output-archive-url'),\n      $output_archive_link = $('#output-archive-link'),\n      $output_archive_filename = $('#output-archive-filename'),      \n      archive_select_frame;\n\n\n  $archive_btn_remove.on('click', function(ev){\n    ev.preventDefault();\n\n    var confirm_archive_remove = confirm('Are you sure you want to remove archive?');\n\n    if (confirm_archive_remove === true){\n      $archive_date.val('');\n      $output_archive_url.val('');\n      $output_archive_filename.val('');\n      $output_archive_link.attr('href', '#');\n      $archive_file_wrapper.addClass('hidden');\n      $archive_date_wrapper.addClass('hidden');\n    }\n\n    return false;\n  });\n\n  $archive_btn.on('click', function(ev){\n    ev.preventDefault();\n\n    if ( archive_select_frame != null ) {\n      archive_select_frame.open();\n      return;\n    }\n\n    archive_select_frame = wp.media({\n      title: 'Select bot\\'s archive file',\n      button: {\n        text: 'Yep, this one'\n      },\n      multiple: false\n    });\n\n    \n    archive_select_frame.on( 'select', function() {\n      var attachment = archive_select_frame.state().get('selection').first().toJSON();\n      console.log(attachment);\n\n      $archive_file_wrapper.removeClass('hidden');\n      $archive_date_wrapper.removeClass('hidden');\n\n      $output_archive_url.val(attachment.url);\n      $output_archive_filename.val(attachment.filename);\n      $output_archive_link.attr('href', attachment.url);\n\n\n      // imgContainer.append( '<img src=\"'+attachment.url+'\" alt=\"\" style=\"max-width:100%;\"/>' );\n      // imgIdInput.val( attachment.id );\n      // addImgLink.addClass( 'hidden' );\n      // delImgLink.removeClass( 'hidden' );\n    });\n\n    archive_select_frame.open();\n  });\n\n});\n","$(function() {\n  'use strict';\n\n  function wait_for_el(selector, callback) {\n    if ($(selector).length) {\n      callback();\n    } else {\n      var helpers = this;\n\n      setTimeout(function() {\n        helpers.wait_for_el(selector, callback);\n      }, 100);\n    }\n  };\n\n  wait_for_el('[id=\"menu-posts\"]', function() {\n    /* Quick fix for duplicate Posts appearing in admin, after modifying default post slug. */\n    var $menu_posts = $('[id=\"menu-posts\"]');\n\n    if ($menu_posts.length > 1){\n      $menu_posts.first().hide();  \n    }\n  });\n\n});\n","$(function() {\n  'use strict';\n\n  $(document).on('click', '#get-screenshot', function(ev){\n    var $get_screenshot_btn = $(this),\n        screenshot_btn_txt = $get_screenshot_btn.html(),\n        $screenshot_img = $('#screenshot-img'),\n        $page_url = $('#page-url'),\n        page_url = $page_url.val().trim(),\n        $screenshot_hint = $('#screenshot-hint');\n\n    if (page_url){\n      var url_parts = page_url.split('/'),\n          download_name = url_parts[url_parts.length - 1]; \n\n      $get_screenshot_btn.html('Processing').attr('disabled', true);\n      $screenshot_img.attr({\n        'src': '',\n        'download': ''\n      });\n      $screenshot_hint.addClass('hidden');\n\n      $.ajax({\n        url: `https://screenshot-beta.glitch.me/?url=${page_url}&width=1200&height=685`\n      }).done(function( data ) {\n        // console.log(data);\n        $screenshot_hint.removeClass('hidden');\n        $get_screenshot_btn.html(screenshot_btn_txt).attr('disabled', false);\n        $screenshot_img.attr({\n          'src': `data:image/png;base64, ${data.screenshot.data}`,\n          'download': download_name\n        });\n      });\n    }\n    else{\n      alert('You forgot the URL!');\n    }\n  });\n});\n","$(function() {\n  'use strict';\n  $(\"body.post-type-bot .wrap .page-title-action\").attr('href', '/submit-your-bot');\n});\n"]}