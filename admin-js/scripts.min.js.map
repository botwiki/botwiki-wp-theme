{"version":3,"sources":["bot-archive.js","hide-duplicate-posts-menu.js","screenshot-tool.js","show-bot-submission-form-link-admin.js"],"names":["$","archive_select_frame","$archive_btn","$archive_btn_remove","$archive_file_wrapper","$archive_date_wrapper","$archive_date","$output_archive_url","$output_archive_link","$output_archive_filename","on","ev","preventDefault","confirm","val","attr","addClass","wp","media","title","button","text","multiple","attachment","state","get","first","toJSON","console","log","removeClass","url","filename","open","jQuery","window","load","waitForElement","selector","callback","length","setTimeout","$menu_posts","hide","document","url_parts","download_name","$screenshotBtn","this","screenshotBtnText","html","$screenshotImg","pageUrl","trim","$screenshot_hint","split","src","download","post","ajaxurl","action","done","data","image_url","alert"],"mappings":"cAAA,SAAYA,GAGV,IASIC,EATAC,EAAeF,EAAE,uBACjBG,EAAsBH,EAAE,0BACxBI,EAAwBJ,EAAE,gCAC1BK,EAAwBL,EAAE,gCAC1BM,EAAgBN,EAAE,wBAElBO,GADgBP,EAAE,wBACIA,EAAE,wBACxBQ,EAAuBR,EAAE,wBACzBS,EAA2BT,EAAE,4BAIjCG,EAAoBO,GAAG,QAAS,SAASC,GAcvC,OAbAA,EAAGC,kBAI4B,IAFFC,QAAQ,8CAGnCP,EAAcQ,IAAI,IAClBP,EAAoBO,IAAI,IACxBL,EAAyBK,IAAI,IAC7BN,EAAqBO,KAAK,OAAQ,KAClCX,EAAsBY,SAAS,UAC/BX,EAAsBW,SAAS,YAG1B,IAGTd,EAAaQ,GAAG,QAAS,SAASC,GAChCA,EAAGC,iBAE0B,MAAxBX,IAKLA,EAAuBgB,GAAGC,MAAM,CAC9BC,MAAO,4BACPC,OAAQ,CACNC,KAAM,iBAERC,UAAU,KAISZ,GAAI,SAAU,WACjC,IAAIa,EAAatB,EAAqBuB,QAAQC,IAAI,aAAaC,QAAQC,SACvEC,QAAQC,IAAIN,GAEZnB,EAAsB0B,YAAY,UAClCzB,EAAsByB,YAAY,UAElCvB,EAAoBO,IAAIS,EAAWQ,KACnCtB,EAAyBK,IAAIS,EAAWS,UACxCxB,EAAqBO,KAAK,OAAQQ,EAAWQ,OAS/C9B,EAAqBgC,SAnEzB,CAqEKC,QCrEL,SAAYlC,GAERA,EAAEmC,QAAQC,KAAK,WACbD,OAAOE,eAAiB,SAASC,EAAUC,GACrCvC,EAAEsC,GAAUE,OACdD,IAIAE,WAAW,WACTN,OAAOE,eAAeC,EAAUC,IAC/B,MAIPJ,OAAOE,eAAe,oBAAqB,WAEzC,IAAIK,EAAc1C,EAAE,qBAEK,EAArB0C,EAAYF,QACdE,EAAYhB,QAAQiB,WApB9B,CAwBKT,QCxBL,SAAYlC,GAEVA,EAAG4C,UAAWlC,GAAI,QAAS,kBAAmB,SAAUC,GACtD,IAQMkC,EACAC,EATFC,EAAiB/C,EAAGgD,MACpBC,EAAoBF,EAAeG,OACnCC,EAAiBnD,EAAG,mBAEpBoD,EADgBpD,EAAG,aACKc,MAAOuC,OAC/BC,EAAmBtD,EAAG,oBAErBoD,GACCP,EAAYO,EAAQG,MAAO,KAC3BT,EAAgBD,EAAUA,EAAUL,OAAS,GAEjDO,EAAeG,KAAM,cAAenC,KAAM,YAAY,GACtDoC,EAAepC,KAAM,CACnByC,IAAO,GACPC,SAAY,KAEdH,EAAiBtC,SAAU,UAe3BhB,EAAE0D,KAAMC,QAAS,CACfC,OAAQ,kBACR7B,IAAKqB,IACHS,KAAM,SAAUC,GAElBR,EAAiBxB,YAAa,UAC9BiB,EAAeG,KAAMD,GAAoBlC,KAAM,YAAY,GAC3DoC,EAAepC,KAAM,CACnByC,IAAOM,EAAKC,UACZN,SAAYX,OAKhBkB,MAAO,yBAhDb,CAmDK9B,QC/CAA,OADD,+CAA+CnB,KAAK,OAAQ","file":"scripts.min.js","sourcesContent":["( function( $ ) {\n  'use strict';\n\n  var $archive_btn = $('#output-archive-btn'),\n      $archive_btn_remove = $('#output-archive-remove'),\n      $archive_file_wrapper = $('#output-archive-file-wrapper'),\n      $archive_date_wrapper = $('#output-archive-date-wrapper'),\n      $archive_date = $('#output-archive-date'),\n      $archive_file = $('#output-archive-file'),\n      $output_archive_url = $('#output-archive-url'),\n      $output_archive_link = $('#output-archive-link'),\n      $output_archive_filename = $('#output-archive-filename'),      \n      archive_select_frame;\n\n\n  $archive_btn_remove.on('click', function(ev){\n    ev.preventDefault();\n\n    var confirm_archive_remove = confirm('Are you sure you want to remove archive?');\n\n    if (confirm_archive_remove === true){\n      $archive_date.val('');\n      $output_archive_url.val('');\n      $output_archive_filename.val('');\n      $output_archive_link.attr('href', '#');\n      $archive_file_wrapper.addClass('hidden');\n      $archive_date_wrapper.addClass('hidden');\n    }\n\n    return false;\n  });\n\n  $archive_btn.on('click', function(ev){\n    ev.preventDefault();\n\n    if ( archive_select_frame != null ) {\n      archive_select_frame.open();\n      return;\n    }\n\n    archive_select_frame = wp.media({\n      title: 'Select bot\\'s archive file',\n      button: {\n        text: 'Yep, this one'\n      },\n      multiple: false\n    });\n\n    \n    archive_select_frame.on( 'select', function() {\n      var attachment = archive_select_frame.state().get('selection').first().toJSON();\n      console.log(attachment);\n\n      $archive_file_wrapper.removeClass('hidden');\n      $archive_date_wrapper.removeClass('hidden');\n\n      $output_archive_url.val(attachment.url);\n      $output_archive_filename.val(attachment.filename);\n      $output_archive_link.attr('href', attachment.url);\n\n\n      // imgContainer.append( '<img src=\"'+attachment.url+'\" alt=\"\" style=\"max-width:100%;\"/>' );\n      // imgIdInput.val( attachment.id );\n      // addImgLink.addClass( 'hidden' );\n      // delImgLink.removeClass( 'hidden' );\n    });\n\n    archive_select_frame.open();\n  });\n} )( jQuery );\n","( function( $ ) {\n    'use strict';\n    $(window).load(function() {\n      window.waitForElement = function(selector, callback) {\n        if ($(selector).length) {\n          callback();\n        } else {\n          var helpers = this;\n\n          setTimeout(function() {\n            window.waitForElement(selector, callback);\n          }, 100);\n        }\n      };\n\n      window.waitForElement('[id=\"menu-posts\"]', function() {\n        /* Quick fix for duplicate Posts appearing in admin, after modifying default post slug. */\n        var $menu_posts = $('[id=\"menu-posts\"]');\n\n        if ($menu_posts.length > 1){\n          $menu_posts.first().hide();  \n        }\n      });\n    });\n} )( jQuery );\n","( function( $ ){\n  'use strict';\n  $( document ).on( 'click', '#get-screenshot', function( ev ){\n    var $screenshotBtn = $( this ),\n        screenshotBtnText = $screenshotBtn.html( ),\n        $screenshotImg = $( '#screenshot-img' ),\n        $pageUrlInput = $( '#page-url' ),\n        pageUrl = $pageUrlInput.val( ).trim( ),\n        $screenshot_hint = $( '#screenshot-hint' );\n\n    if ( pageUrl ){\n      var url_parts = pageUrl.split( '/' ),\n          download_name = url_parts[url_parts.length - 1]; \n\n      $screenshotBtn.html( 'Processing' ).attr( 'disabled', true );\n      $screenshotImg.attr( {\n        'src': '',\n        'download': ''\n      } );\n      $screenshot_hint.addClass( 'hidden' );\n\n      // $.ajax( {  \n      //   url: `https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=${ pageUrl }` \n      // } ).done( function( data ) {  \n      //   // console.log( data ); \n      //   console.log( data.lighthouseResult.audits['final-screenshot'].details );\n      //   $screenshot_hint.removeClass( 'hidden' );\n      //   $screenshotBtn.html( screenshotBtnText ).attr( 'disabled', false ); \n      //   $screenshotImg.attr( {  \n      //     // 'src': `data:image/png;base64, ${ data.screenshot }`,  \n      //     'src': data.lighthouseResult.audits['final-screenshot'].details.data,\n      //     'download': download_name \n      //   } );\n      // } );\n      $.post( ajaxurl, {\n        action: 'make_screenshot',\n        url: pageUrl\n      } ).done( function( data ) {\n        // console.log( data );\n        $screenshot_hint.removeClass( 'hidden' );\n        $screenshotBtn.html( screenshotBtnText ).attr( 'disabled', false );\n        $screenshotImg.attr( {\n          'src': data.image_url,\n          'download': download_name\n        } );\n      } );\n    }\n    else{\n      alert( 'You forgot the URL!' );\n    }\n  } );\n} )( jQuery );\n","( function( $ ) {\n  'use strict';\n  'use strict';\n  $(\"body.post-type-bot .wrap .page-title-action\").attr('href', '/submit-your-bot');\n} )( jQuery );\n"]}